local boyentregando = {}

pizzaLocations = {}
pizzaLocations["Los Santos"] = {
	{x=2257.1733398438, y=-1644.1226806641, z=15.523954391479},
	{x=2282.2600097656, y=-1641.3040771484, z=15.889788627625},
	{x=2362.7565917969, y=-1643.4014892578, z=14.281688690186},
	{x=2353.2990722656, y=-1485.1854248047, z=24},
	{x=2389.7250976563, y=-1345.9776611328, z=25.076972961426},
	{x=2387.6989746094, y=-1328.3885498047, z=25.124164581299},
	{x=2145.0866699219, y=-1084.5993652344, z=25.027925491333},
	{x=2140.6372070313, y=-1082.8255615234, z=24.765825271606},
	{x=2093.9929199219, y=-1122.6713867188, z=27.689872741699},
	{x=2095.3525390625, y=-1145.1358642578, z=26.592920303345},
	{x=2022.9027099609, y=-1120.2642822266, z=26.421045303345},
	{x=2000.1470947266, y=-1114.0651855469, z=27.125},
	{x=1885.8822021484, y=-1113.6293945313, z=26.275810241699},
	{x=1863.9080810547, y=-1597.2955322266, z=14.306245803833},
	{x=1853.9422607422, y=-1914.2630615234, z=15.256797790527},
	{x=1895.3894042969, y=-2068.9150390625, z=15.668893814087},
	{x=1873.5886230469, y=-2070.7495117188, z=15.497086524963},
	{x=1782.2105712891, y=-2126.4731445313, z=14.067889213562},
	{x=1804.3282470703, y=-2124.8981933594, z=13.942373275757},
	{x=1801.7280273438, y=-2098.9387207031, z=14.021014213562},
	{x=2522.7648925781, y=-2018.9830322266, z=14.074416160583},
	{x=2524.4489746094, y=-1998.4093017578, z=14.113082885742},
	{x=2508.2568359375, y=-1998.3742675781, z=13.902541160583},
	{x=2483.4038085938, y=-1995.3452148438, z=13.834323883057},
	{x=2486.3796386719, y=-1644.5361328125, z=14.077178955078},
	{x=2524.7065429688, y=-1658.4818115234, z=15.824020385742},	
}

pizzaLocations["San Fierro"] = {
	{x=-2117.8813476563, y=579.13317871094, z=35.17504119873},
	{x=-2177.1110839844, y=579.24017333984, z=35.171875},
	{x=-2280.1015625, y=587.59466552734, z=37.287540435791},
	{x=-2242.1540527344, y=628.77807617188, z=47.467296600342},
	{x=-2280.0729980469, y=690.7275390625, z=49.4453125},
	{x=-2278.8305664063, y=787.84832763672, z=49.4453125},
	{x=-2285.3173828125, y=829.14642333984, z=57.170230865479},
	{x=-2233.2658691406, y=849.02319335938, z=61.890625},
	{x=-2282.5183105469, y=916.67724609375, z=66.6484375},
	{x=-2282.4045410156, y=1023.133972168, z=84.11149597168},
	{x=-2227.97265625, y=1108.0407714844, z=80.0078125},
	{x=-2126.5671386719, y=1087.6303710938, z=80.0078125},
	{x=-2139.9714355469, y=1190.3459472656, z=55.7265625},
	{x=-1929.9399414063, y=1190.5404052734, z=45.4453125},
	{x=-1872.0780029297, y=1146.998046875, z=45.4453125},
	{x=-2791.6040039063, y=218.49494934082, z=7.859375},
	{x=-2791.9926757813, y=200.43293762207, z=7.859375},
	{x=-2793.1506347656, y=110.74350738525, z=7.1875},
	{x=-2790.7592773438, y=69.794563293457, z=7.2019538879395},
	{x=-2722.9973144531, y=22.200176239014, z=7.203125},
	{x=-2721.8093261719, y=-23.36187171936, z=4.5716686248779},
	{x=-2725.7507324219, y=-92.568702697754, z=7.203125},
	{x=-2687.8996582031, y=-118.14672088623, z=4.3425788879395},
	{x=-2686.8251953125, y=-188.05596923828, z=7.203125},	
}


addEventHandler("onVehicleEnter", root,
function (player, seat)
	local job = tostring ( getElementData ( player, "Job" ) or "" )
	if (seat == 0 and job == "PizzaBOY" and  getElementModel(source) == 448) then
		if not (boyentregando[player]) then
			local city = getElementZoneName(player, true)
			local ran = math.random(#pizzaLocations[city])
			local x, y, z = pizzaLocations[city][ran].x, pizzaLocations[city][ran].y, pizzaLocations[city][ran].z
			triggerClientEvent(player, "pizza:sendLocation", player, x, y, z-1)
			boyentregando[player] = true
		end
	end
end
)

addEvent("pizza:finishDelivery", true)
addEventHandler("pizza:finishDelivery", root,
function (client)
	boyentregando[client] = nil
	local reward = math.random(100,1000)
	if ( reward ) then
		triggerEvent ( "VDBGJobs->GivePlayerMoney", client, client, "pontospizzas", reward, 5 )
		updateJobColumn ( getAccountName ( getPlayerAccount ( client ) ), "pontospizzas", "AddOne" )
		outputChatBox ( "#d9534f[PizzaBOY] #FFFFFFVocê fez a entrega com êxito, e ganhou: #acd373R$"..reward..".00 .", client, 255, 255, 255, true )
	end
end)